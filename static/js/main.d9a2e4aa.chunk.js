(this.webpackJsonptemtypes=this.webpackJsonptemtypes||[]).push([[0],{12:function(e,t,s){},13:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s.n(n),r=s(7),i=s.n(r),a=(s(12),s(13),s(2)),p=s(3),o=s(5),l=s(4),h="https://temtem-api.mael.tech/api";var u=s(0),j=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(){return Object(a.a)(this,s),t.apply(this,arguments)}return Object(p.a)(s,[{key:"render",value:function(){return Object(u.jsxs)("li",{className:"TableType",children:[Object(u.jsx)("img",{src:this.props.type.icon,alt:""}),Object(u.jsx)("span",{children:this.props.type.name})]})}}]),s}(n.Component),y=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={},n}return Object(p.a)(s,[{key:"parseWeaknesses",value:function(e,t){var s,n=this,c={superEffective:[],effective:[],resistant:[],superResistant:[]};return this.props.typenames.forEach((function(r){switch(e[r]&&t[r]?s=e[r].value*t[r].value:e[r]?s=e[r].value:t[r]&&(s=t[r].value),s){case 4:c.superEffective.push(n.props.typelist[r]);break;case 2:c.effective.push(n.props.typelist[r]);break;case.5:c.resistant.push(n.props.typelist[r]);break;case.25:c.superResistant.push(n.props.typelist[r])}})),c}},{key:"render",value:function(){var e=this.parseWeaknesses(this.props.selectedWeaknesses.type1,this.props.selectedWeaknesses.type2);if(this.props.firstType||this.props.secondType){var t="";return t=this.props.secondType?this.props.firstType?"".concat(this.props.firstType.name,"/").concat(this.props.secondType.name," takes:"):"".concat(this.props.secondType.name," takes:"):"".concat(this.props.firstType.name," takes:"),Object(u.jsxs)("section",{className:"DisplayTable",children:[Object(u.jsx)("h2",{children:t}),Object(u.jsx)("table",{children:Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:Object(u.jsx)("span",{children:"4x from"})}),Object(u.jsx)("td",{children:Object(u.jsx)("ul",{children:e.superEffective.map((function(e,t){return Object(u.jsx)(j,{type:e},t)}))})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:Object(u.jsx)("span",{children:"2x from"})}),Object(u.jsx)("td",{children:Object(u.jsx)("ul",{children:e.effective.map((function(e,t){return Object(u.jsx)(j,{type:e},t)}))})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:Object(u.jsx)("span",{children:"0.5x from"})}),Object(u.jsx)("td",{children:Object(u.jsx)("ul",{children:e.resistant.map((function(e,t){return Object(u.jsx)(j,{type:e},t)}))})})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{scope:"row",children:Object(u.jsx)("span",{children:"0.25x from"})}),Object(u.jsx)("td",{children:Object(u.jsx)("ul",{children:e.superResistant.map((function(e,t){return Object(u.jsx)(j,{type:e},t)}))})})]})]})})]})}return Object(u.jsx)("section",{className:"DisplayTable",children:Object(u.jsx)("p",{children:"Select Temtem types..."})})}}]),s}(n.Component),f=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={},n}return Object(p.a)(s,[{key:"handleTypeSelect",value:function(){var e=this.props.name;this.props.onTypeSelect(e)}},{key:"render",value:function(){var e=this,t=!1;return(this.props.firstType&&this.props.firstType.name===this.props.name||this.props.secondType&&this.props.secondType.name===this.props.name)&&(t=!0),Object(u.jsxs)("li",{className:(t?"selected ":"")+"TypeElement",onClick:function(){return e.handleTypeSelect()},children:[Object(u.jsx)("img",{src:this.props.icon,alt:this.props.name+" icon"}),Object(u.jsx)("p",{children:this.props.name})]})}}]),s}(n.Component),d=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={},n}return Object(p.a)(s,[{key:"render",value:function(){var e=this;return Object(u.jsx)("section",{className:"Wheel",children:Object(u.jsx)("ul",{children:this.props.typelist.map((function(t,s){return Object(u.jsx)(f,{name:t.name,icon:t.icon,onTypeSelect:function(t){return e.props.onTypeSelect(t)},firstType:e.props.firstType,secondType:e.props.secondType},s)}))})})}}]),s}(n.Component),b=function(e){Object(o.a)(s,e);var t=Object(l.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={typelist:[],typenames:[],weaknesses:[],firstType:null,secondType:null,selectedWeaknesses:{type1:[],type2:[]}},n}return Object(p.a)(s,[{key:"componentDidMount",value:function(){this.getTypelist(),this.getWeaknesses()}},{key:"getTypelist",value:function(){var e=this;(function(){var e="".concat(h,"/types");return fetch(e)})().then((function(e){return e.json()})).then((function(t){var s,n=[];t.forEach((function(e){e.icon="https://temtem-api.mael.tech"+e.icon,t[e.name]=e,n.push(e.name)})),s=e.reorderTypes(t),e.setState({typelist:s,typenames:n})}))}},{key:"getWeaknesses",value:function(){var e=this;(function(){var e="".concat(h,"/weaknesses");return fetch(e)})().then((function(e){return e.json()})).then((function(t){e.setState({weaknesses:t})}))}},{key:"onTypeSelect",value:function(e){var t=this.state.firstType,s=this.state.secondType,n={};if(t&&s){if(e!==t.name&&e!==s.name)return;n=e===t.name?{firstType:null}:{secondType:null}}else{var c=this.state.typelist[e];n=t||s?t?e===t.name?{firstType:null}:{secondType:c}:e===s.name?{secondType:null}:{firstType:c}:{firstType:c}}this.setState(n,(function(){this.calculateWeaknesses()}))}},{key:"calculateWeaknesses",value:function(){var e,t=this,s=this.state.firstType,n=this.state.secondType,c=[],r=[];s&&this.state.typenames.forEach((function(n){e={name:n,value:t.state.weaknesses[n][s.name]},c.push(e),c[n]=e})),n&&this.state.typenames.forEach((function(s){e={name:s,value:t.state.weaknesses[s][n.name]},r.push(e),r[s]=e})),this.setState({selectedWeaknesses:{type1:c,type2:r}})}},{key:"reorderTypes",value:function(e){var t,s={Neutral:0,Toxic:1,Mental:2,Crystal:3,Fire:4,Melee:5,Electric:6,Nature:7,Wind:8,Water:9,Digital:10,Earth:11},n=[];return e.forEach((function(e){t=s[e.name],n[t]=e,n[e.name]=e})),n}},{key:"render",value:function(){var e=this;return Object(u.jsxs)("main",{children:[Object(u.jsx)("h1",{children:"Welcome to Temtypes!"}),Object(u.jsx)(d,{typelist:this.state.typelist,onTypeSelect:function(t){return e.onTypeSelect(t)},firstType:this.state.firstType,secondType:this.state.secondType}),Object(u.jsx)(y,{firstType:this.state.firstType,secondType:this.state.secondType,selectedWeaknesses:this.state.selectedWeaknesses,typelist:this.state.typelist,typenames:this.state.typenames})]})}}]),s}(n.Component);var m=function(){return Object(u.jsx)("div",{className:"App",children:Object(u.jsx)(b,{})})},O=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,16)).then((function(t){var s=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;s(e),n(e),c(e),r(e),i(e)}))};i.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root")),O()}},[[15,1,2]]]);
//# sourceMappingURL=main.d9a2e4aa.chunk.js.map